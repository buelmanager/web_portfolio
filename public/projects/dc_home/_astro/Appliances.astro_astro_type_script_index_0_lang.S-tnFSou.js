import{g as k}from"./index.CB87Sc6I.js";import{S as C}from"./ScrollTrigger.Cv03IO65.js";k.registerPlugin(C);function q(){const r=document.querySelector("[data-appliances]");if(!r)return;const b=r.querySelector("[data-appliances-header]"),o=r.querySelector("[data-appliances-slider]"),y=r.querySelector("[data-appliances-track]"),i=r.querySelectorAll("[data-slide]"),f=r.querySelector("[data-nav-prev]"),p=r.querySelector("[data-nav-next]"),S=r.querySelectorAll("[data-indicator]"),L=r.querySelector("[data-progress-fill]"),E=r.querySelector("[data-progress-current]");let t=0;const u=i.length,v=k.timeline({scrollTrigger:{trigger:r,start:"top 80%",end:"top 20%",toggleActions:"play none none reverse"}});v.to(b,{opacity:1,y:0,duration:.8,ease:"power3.out"}),v.to(i,{opacity:1,y:0,duration:.8,stagger:.1,ease:"power3.out"},"-=0.4");function g(){S.forEach((s,n)=>{s.classList.toggle("active",n===t)});const e=(t+1)/u*100;L&&(L.style.width=`${e}%`),E&&(E.textContent=String(t+1).padStart(2,"0")),f&&(f.disabled=t===0),p&&(p.disabled=t===u-1)}function a(e){if(e<0||e>=u)return;t=e;const s=i[e];if(s&&o){const n=o,c=y,l=s.offsetLeft-c.offsetLeft,d=parseFloat(getComputedStyle(c).paddingLeft)||0;n.scrollTo({left:l-d,behavior:"smooth"})}g()}f?.addEventListener("click",()=>a(t-1)),p?.addEventListener("click",()=>a(t+1)),S.forEach((e,s)=>{e.addEventListener("click",()=>a(s))});let m;o?.addEventListener("scroll",()=>{clearTimeout(m),m=setTimeout(()=>{const s=o.scrollLeft,n=y,c=parseFloat(getComputedStyle(n).paddingLeft)||0;let l=0,d=1/0;i.forEach((A,T)=>{const w=A.offsetLeft-n.offsetLeft-c,h=Math.abs(s-w);h<d&&(d=h,l=T)}),l!==t&&(t=l,g())},100)}),o?.addEventListener("keydown",e=>{e.key==="ArrowLeft"?(e.preventDefault(),a(t-1)):e.key==="ArrowRight"&&(e.preventDefault(),a(t+1))}),o?.setAttribute("tabindex","0"),o?.setAttribute("role","region"),o?.setAttribute("aria-label","가전제품 슬라이더"),g()}document.addEventListener("DOMContentLoaded",q);document.addEventListener("astro:page-load",q);
